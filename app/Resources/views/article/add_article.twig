{% extends 'templates/app.twig'%}

{% block content %}

    
     <div class="row">

     <form enctype="multipart/form-data" action="{{ path_for('new_prestation') }}" method="POST" class="col s12">

   
        <div class="row">
            <div class="ui input col s12">
              <i class="material-icons prefix">input</i>
                <label  data-error="{{ errors.nom ? errors.nom | first : '' }}" for="nom">Nom</label>
              <input name="nom" id="nom" type="text" maxlength="100" class="{{ errors.nom ? ' invalid' : '' }}" value="{{ old.nom }}">
            </div>
        </div>

             <div class="row">
        <div class="input-field col s12">
           <i class="material-icons prefix">info</i>
           <textarea class="materialize-textarea {{ errors.description ? ' invalid' : '' }}" name="description" id="description" rows="3">{{ old.description }}</textarea>
          <label  data-error="{{ errors.description ? '' | first : '' }}" for="description">Description</label>
        </div>
      </div>


        <div class="row">
        <div class="input-field col s12">
            <div class="ui left labeled input">
                <div class="ui label">€</div>
                <input placeholder="Prix" type="text" class="{{ errors.prix ? ' invalid' : '' }}" value="{{ old.prix }}" name="prix" id="prix">
                <label  data-error="{{ errors.prix ? errors.prix | first : '' }}" for="endroit">Prix</label>
            </div>
        </div>
        </div>
        <div class="row" >

            <select class="ui dropdown col s12" name="categorie" id="categorie">
                <option disabled selected>Choisir une catégorie</option>
                {% for cat in categories %}
                    <option
                            {% if form.categorie_id == cat.id %}
                                selected
                            {% endif %}
                            value="{{ cat.id }}">{{cat.nom}}</option>
                {% endfor %}
            </select>

        </div>

           <div class ="row red-text">
           {{ errors.categorie ? errors.categorie : '' }}
         </div>
          
            <div class="row">
          <div class="file-field input-field col s12">
          <div class="btn">
            <span>Image</span>
            <input type="file" name ="file" id="file">
          </div>
          <div class="file-path-wrapper">
            <input class="file-path validate" type="text">
          </div>
        </div>
          </div>

         <div class="row">
         <div class="input-field col s12">
           <div class="col s10 offset-s1 center-align">
          <button class="btn waves-effect waves-light" type="submit" name="action">Ajouter
            <i class="material-icons right">send</i>
          </button>


            </div>

            </div>
          </div>


       {{  csrf.field | raw }}

      </form>


    </div>

{% endblock %}